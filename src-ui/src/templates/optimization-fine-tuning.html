<!-- Optimization Fine Tuning -->
<div class="section-group">
    <h3>Optimization Fine Tuning</h3>
    <div class="param-grid">
        <!-- Algorithm -->
        <div class="param-item">
            <label>Algorithm</label>
            <select id="algo" name="algo">
                <optgroup label="AutoEQ Algorithms">
                    <option value="autoeq:de">
                        Auto DE (Recommended)
                    </option>
                </optgroup>
                <optgroup label="NLOPT Global Optimizers">
                    <option value="nlopt:isres">
                        NLOPT ISRES
                    </option>
                    <option value="nlopt:ags">
                        NLOPT AGS
                    </option>
                    <option value="nlopt:origdirect">
                        NLOPT Original DIRECT
                    </option>
                    <option value="nlopt:crs2lm">
                        NLOPT CRS2 LM
                    </option>
                    <option value="nlopt:direct">
                        NLOPT DIRECT
                    </option>
                    <option value="nlopt:directl">
                        NLOPT DIRECT-L
                    </option>
                    <option value="nlopt:gmlsl">
                        NLOPT GMLSL
                    </option>
                    <option value="nlopt:gmlsllds">
                        NLOPT GMLSL LDS
                    </option>
                    <option value="nlopt:stogo">
                        NLOPT StoGO
                    </option>
                    <option value="nlopt:stogorand">
                        NLOPT StoGO Rand
                    </option>
                </optgroup>
                <optgroup label="NLOPT Local Optimizers">
                    <option value="nlopt:cobyla">
                        NLOPT COBYLA
                    </option>
                    <option value="nlopt:bobyqa">
                        NLOPT BOBYQA
                    </option>
                    <option value="nlopt:neldermead">
                        NLOPT Nelder-Mead
                    </option>
                    <option value="nlopt:sbplx">
                        NLOPT Subplex
                    </option>
                    <option value="nlopt:slsqp">
                        NLOPT SLSQP
                    </option>
                </optgroup>
                <optgroup label="Metaheuristics">
                    <option value="mh:de">
                        MH Differential Evolution
                    </option>
                    <option value="mh:pso">
                        MH Particle Swarm
                    </option>
                    <option value="mh:rga">
                        MH Genetic Algorithm
                    </option>
                    <option value="mh:tlbo">
                        MH TLBO
                    </option>
                    <option value="mh:firefly">
                        MH Firefly
                    </option>
                </optgroup>
            </select>
        </div>

        <!-- DE Strategy Parameters (conditional) -->
        <div
            class="param-item de-param"
            id="strategy_param"
            style="display: none"
        >
            <label>Strategy</label>
            <select id="strategy" name="strategy">
                <option value="currenttobest1bin">
                    Current-to-Best/1/Bin (Recommended)
                </option>
                <option value="rand1bin">
                    Rand/1/Bin
                </option>
                <option value="best1bin">
                    Best/1/Bin
                </option>
                <option value="rand2bin">
                    Rand/2/Bin
                </option>
                <option value="best2bin">
                    Best/2/Bin
                </option>
                <option value="randtobest1bin">
                    Rand-to-Best/1/Bin
                </option>
                <option value="rand1exp">
                    Rand/1/Exp
                </option>
                <option value="best1exp">
                    Best/1/Exp
                </option>
                <option value="rand2exp">
                    Rand/2/Exp
                </option>
                <option value="best2exp">
                    Best/2/Exp
                </option>
                <option value="currenttobest1exp">
                    Current-to-Best/1/Exp
                </option>
                <option value="randtobest1exp">
                    Rand-to-Best/1/Exp
                </option>
                <option value="adaptivebin">
                    Adaptive/Bin (Experimental)
                </option>
                <option value="adaptiveexp">
                    Adaptive/Exp (Experimental)
                </option>
            </select>
        </div>

        <!-- Global Algorithm Parameters -->
        <div class="param-item global_algo_param">
            <label>Population</label>
            <input
                type="number"
                id="population"
                name="population"
            />
            <div
                class="param-warning"
                id="population_warning_yellow"
                style="
                    display: none;
                    color: #ffc107;
                    font-size: 0.8em;
                    margin-top: 2px;
                "
            >
                ‚ö†Ô∏è Values above 3000 may be slow
            </div>
            <div
                class="param-warning"
                id="population_warning_red"
                style="
                    display: none;
                    color: #dc3545;
                    font-size: 0.8em;
                    margin-top: 2px;
                "
            >
                üö® Values above 30000 will be very slow
                and may cause issues
            </div>
        </div>
        <div class="param-item global_algo_param">
            <label>Max Eval</label>
            <input
                type="number"
                id="maxeval"
                name="maxeval"
            />
        </div>

        <!-- DE Parameters for mutation and recombination -->
        <div
            class="param-item de-param"
            id="mutation_param"
        >
            <label>F/Mutation</label>
            <input
                type="number"
                id="de_f"
                name="de_f"
            />
        </div>
        <div
            class="param-item de-param"
            id="recombination_param"
        >
            <label>CR/Recombination</label>
            <input
                type="number"
                id="de_cr"
                name="de_cr"
            />
        </div>

        <!-- Spacing Parameters -->
        <div class="param-item">
            <label>Min Spacing</label>
            <input
                type="number"
                id="min_spacing_oct"
                name="min_spacing_oct"
            />
        </div>
        <div class="param-item">
            <label>Spacing Weight</label>
            <input
                type="number"
                id="spacing_weight"
                name="spacing_weight"
            />
        </div>

        <!-- Tolerance Parameters -->
        <div class="param-item">
            <label>Tolerance</label>
            <input
                type="number"
                id="tolerance"
                name="tolerance"
            />
        </div>
        <div class="param-item">
            <label>Abs Tolerance</label>
            <input
                type="number"
                id="abs_tolerance"
                name="abs_tolerance"
            />
        </div>

        <!-- Adaptive Weight F (conditional) -->
        <div
            class="param-item adaptive-param"
            id="adaptive_weight_f_param"
            style="display: none"
        >
            <label>Adaptive F</label>
            <input
                type="number"
                id="adaptive_weight_f"
                name="adaptive_weight_f"
            />
        </div>

        <!-- Adaptive Weight CR (conditional) -->
        <div
            class="param-item adaptive-param"
            id="adaptive_weight_cr_param"
            style="display: none"
        >
            <label>Adaptive CR</label>
            <input
                type="number"
                id="adaptive_weight_cr"
                name="adaptive_weight_cr"
            />
        </div>
    </div>

    <div class="param-group-section">
        <div class="param-group-header">Refinement</div>
        <div class="inline-params">
            <div class="inline-item checkbox-item">
                <label class="checkbox-label"
                    ><input
                        type="checkbox"
                        id="refine"
                        name="refine"
                    />Enable</label
                >
            </div>
            <div class="inline-item flex-grow">
                <label>Local Optimiser</label>
                <select
                    id="local_algo"
                    name="local_algo"
                    disabled
                >
                    <option value="cobyla">
                        COBYLA
                    </option>
                    <option value="bobyqa">
                        BOBYQA
                    </option>
                    <option value="newuoa">
                        NEWUOA
                    </option>
                </select>
            </div>
        </div>
    </div>

    <div class="param-group-section">
        <div class="param-group-header">Smoothing</div>
        <div class="inline-params">
            <div class="inline-item checkbox-item">
                <label class="checkbox-label"
                    ><input
                        type="checkbox"
                        id="smooth"
                        name="smooth"
                    />Enable</label
                >
            </div>
            <div class="inline-item">
                <label>Smooth N</label>
                <input
                    type="number"
                    id="smooth_n"
                    name="smooth_n"
                />
            </div>
        </div>
    </div>
</div>
